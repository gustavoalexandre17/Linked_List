#include <stdio.h>
#include <stdlib.h>
#include <string.h>
typedef struct Node {
  void *data;
  struct Node *Next;

} Node;

typedef struct {
  Node *head;
  Node *tail;
  int size;
} LinkedList;

LinkedList *new(void *dt, int len) {
  LinkedList *list = (LinkedList *)malloc(sizeof(LinkedList));
  Node *no = (Node *)malloc(sizeof(Node));
  no->data = malloc(len);
  no->Next = NULL;
  memcpy(no->data, dt, len);

  list->head = no;
  list->tail = no;
  list->size = 1;
  return list;
}

void add_tail(LinkedList *list, void *dt, int len) {
  Node *no = (Node *)malloc(sizeof(Node));
  no->data = malloc(len);
  memcpy(no->data, dt, len);
  list->tail->Next = no;
  list->tail = no;
  no->Next = NULL;
  list->size++;
}

void generic_print(LinkedList *list) {
  Node *node = list->head;
  for (int i = 1; i <= list->size - 1; ++i) {

    printf("      %d\n", *(int *)node->data);
    printf("%p --> ", node->Next);

    printf("\033[1A");
    node = node->Next;
  }
  printf("      %d\n", *(int *)list->tail->data);
  printf("%p\n", list->tail);
}

int main() {
  int valor1 = 12;
  int valor2 = 43;
  int valor3 = 129;
  LinkedList *list = new (&valor1, 4);
  add_tail(list, &valor2, 4);
  add_tail(list, &valor3, 4);
  generic_print(list);
}
